using System;
using System.Collections.Generic;
using System.Numerics;

namespace mud
{
    public static class SchemaAbiTypes
    {
        // WARNING: SchemaType enum MUST mirror the solidity version!
        // WARNING: SchemaType methods use hardcoded enum indexes, review them after any changes to the enum
        public enum SchemaType
        {
            UINT8,
            UINT16,
            UINT24,
            UINT32,
            UINT40,
            UINT48,
            UINT56,
            UINT64,
            UINT72,
            UINT80,
            UINT88,
            UINT96,
            UINT104,
            UINT112,
            UINT120,
            UINT128,
            UINT136,
            UINT144,
            UINT152,
            UINT160,
            UINT168,
            UINT176,
            UINT184,
            UINT192,
            UINT200,
            UINT208,
            UINT216,
            UINT224,
            UINT232,
            UINT240,
            UINT248,
            UINT256,
            INT8,
            INT16,
            INT24,
            INT32,
            INT40,
            INT48,
            INT56,
            INT64,
            INT72,
            INT80,
            INT88,
            INT96,
            INT104,
            INT112,
            INT120,
            INT128,
            INT136,
            INT144,
            INT152,
            INT160,
            INT168,
            INT176,
            INT184,
            INT192,
            INT200,
            INT208,
            INT216,
            INT224,
            INT232,
            INT240,
            INT248,
            INT256,
            BYTES1,
            BYTES2,
            BYTES3,
            BYTES4,
            BYTES5,
            BYTES6,
            BYTES7,
            BYTES8,
            BYTES9,
            BYTES10,
            BYTES11,
            BYTES12,
            BYTES13,
            BYTES14,
            BYTES15,
            BYTES16,
            BYTES17,
            BYTES18,
            BYTES19,
            BYTES20,
            BYTES21,
            BYTES22,
            BYTES23,
            BYTES24,
            BYTES25,
            BYTES26,
            BYTES27,
            BYTES28,
            BYTES29,
            BYTES30,
            BYTES31,
            BYTES32,
            BOOL,
            ADDRESS,
            UINT8_ARRAY,
            UINT16_ARRAY,
            UINT24_ARRAY,
            UINT32_ARRAY,
            UINT40_ARRAY,
            UINT48_ARRAY,
            UINT56_ARRAY,
            UINT64_ARRAY,
            UINT72_ARRAY,
            UINT80_ARRAY,
            UINT88_ARRAY,
            UINT96_ARRAY,
            UINT104_ARRAY,
            UINT112_ARRAY,
            UINT120_ARRAY,
            UINT128_ARRAY,
            UINT136_ARRAY,
            UINT144_ARRAY,
            UINT152_ARRAY,
            UINT160_ARRAY,
            UINT168_ARRAY,
            UINT176_ARRAY,
            UINT184_ARRAY,
            UINT192_ARRAY,
            UINT200_ARRAY,
            UINT208_ARRAY,
            UINT216_ARRAY,
            UINT224_ARRAY,
            UINT232_ARRAY,
            UINT240_ARRAY,
            UINT248_ARRAY,
            UINT256_ARRAY,
            INT8_ARRAY,
            INT16_ARRAY,
            INT24_ARRAY,
            INT32_ARRAY,
            INT40_ARRAY,
            INT48_ARRAY,
            INT56_ARRAY,
            INT64_ARRAY,
            INT72_ARRAY,
            INT80_ARRAY,
            INT88_ARRAY,
            INT96_ARRAY,
            INT104_ARRAY,
            INT112_ARRAY,
            INT120_ARRAY,
            INT128_ARRAY,
            INT136_ARRAY,
            INT144_ARRAY,
            INT152_ARRAY,
            INT160_ARRAY,
            INT168_ARRAY,
            INT176_ARRAY,
            INT184_ARRAY,
            INT192_ARRAY,
            INT200_ARRAY,
            INT208_ARRAY,
            INT216_ARRAY,
            INT224_ARRAY,
            INT232_ARRAY,
            INT240_ARRAY,
            INT248_ARRAY,
            INT256_ARRAY,
            BYTES1_ARRAY,
            BYTES2_ARRAY,
            BYTES3_ARRAY,
            BYTES4_ARRAY,
            BYTES5_ARRAY,
            BYTES6_ARRAY,
            BYTES7_ARRAY,
            BYTES8_ARRAY,
            BYTES9_ARRAY,
            BYTES10_ARRAY,
            BYTES11_ARRAY,
            BYTES12_ARRAY,
            BYTES13_ARRAY,
            BYTES14_ARRAY,
            BYTES15_ARRAY,
            BYTES16_ARRAY,
            BYTES17_ARRAY,
            BYTES18_ARRAY,
            BYTES19_ARRAY,
            BYTES20_ARRAY,
            BYTES21_ARRAY,
            BYTES22_ARRAY,
            BYTES23_ARRAY,
            BYTES24_ARRAY,
            BYTES25_ARRAY,
            BYTES26_ARRAY,
            BYTES27_ARRAY,
            BYTES28_ARRAY,
            BYTES29_ARRAY,
            BYTES30_ARRAY,
            BYTES31_ARRAY,
            BYTES32_ARRAY,
            BOOL_ARRAY,
            ADDRESS_ARRAY,
            BYTES,
            STRING,
        }

        private const int SplitIndex = 98;
        public static readonly SchemaType[] SchemaTypesArray = (SchemaType[])Enum.GetValues(typeof(SchemaType));
        public static readonly SchemaType[] StaticAbiTypes = SchemaTypesArray[..SplitIndex];
        public static readonly SchemaType[] DynamicAbiTypes = SchemaTypesArray[SplitIndex..];

        public static readonly Dictionary<SchemaType, int> GetStaticByteLength =
            new()
            {
                { SchemaType.UINT8, 1 },
                { SchemaType.UINT16, 2 },
                { SchemaType.UINT24, 3 },
                { SchemaType.UINT32, 4 },
                { SchemaType.UINT40, 5 },
                { SchemaType.UINT48, 6 },
                { SchemaType.UINT56, 7 },
                { SchemaType.UINT64, 8 },
                { SchemaType.UINT72, 9 },
                { SchemaType.UINT80, 10 },
                { SchemaType.UINT88, 11 },
                { SchemaType.UINT96, 12 },
                { SchemaType.UINT104, 13 },
                { SchemaType.UINT112, 14 },
                { SchemaType.UINT120, 15 },
                { SchemaType.UINT128, 16 },
                { SchemaType.UINT136, 17 },
                { SchemaType.UINT144, 18 },
                { SchemaType.UINT152, 19 },
                { SchemaType.UINT160, 20 },
                { SchemaType.UINT168, 21 },
                { SchemaType.UINT176, 22 },
                { SchemaType.UINT184, 23 },
                { SchemaType.UINT192, 24 },
                { SchemaType.UINT200, 25 },
                { SchemaType.UINT208, 26 },
                { SchemaType.UINT216, 27 },
                { SchemaType.UINT224, 28 },
                { SchemaType.UINT232, 29 },
                { SchemaType.UINT240, 30 },
                { SchemaType.UINT248, 31 },
                { SchemaType.UINT256, 32 },

                { SchemaType.INT8, 1 },
                { SchemaType.INT16, 2 },
                { SchemaType.INT24, 3 },
                { SchemaType.INT32, 4 },
                { SchemaType.INT40, 5 },
                { SchemaType.INT48, 6 },
                { SchemaType.INT56, 7 },
                { SchemaType.INT64, 8 },
                { SchemaType.INT72, 9 },
                { SchemaType.INT80, 10 },
                { SchemaType.INT88, 11 },
                { SchemaType.INT96, 12 },
                { SchemaType.INT104, 13 },
                { SchemaType.INT112, 14 },
                { SchemaType.INT120, 15 },
                { SchemaType.INT128, 16 },
                { SchemaType.INT136, 17 },
                { SchemaType.INT144, 18 },
                { SchemaType.INT152, 19 },
                { SchemaType.INT160, 20 },
                { SchemaType.INT168, 21 },
                { SchemaType.INT176, 22 },
                { SchemaType.INT184, 23 },
                { SchemaType.INT192, 24 },
                { SchemaType.INT200, 25 },
                { SchemaType.INT208, 26 },
                { SchemaType.INT216, 27 },
                { SchemaType.INT224, 28 },
                { SchemaType.INT232, 29 },
                { SchemaType.INT240, 30 },
                { SchemaType.INT248, 31 },
                { SchemaType.INT256, 32 },

                { SchemaType.BYTES1, 1 },
                { SchemaType.BYTES2, 2 },
                { SchemaType.BYTES3, 3 },
                { SchemaType.BYTES4, 4 },
                { SchemaType.BYTES5, 5 },
                { SchemaType.BYTES6, 6 },
                { SchemaType.BYTES7, 7 },
                { SchemaType.BYTES8, 8 },
                { SchemaType.BYTES9, 9 },
                { SchemaType.BYTES10, 10 },
                { SchemaType.BYTES11, 11 },
                { SchemaType.BYTES12, 12 },
                { SchemaType.BYTES13, 13 },
                { SchemaType.BYTES14, 14 },
                { SchemaType.BYTES15, 15 },
                { SchemaType.BYTES16, 16 },
                { SchemaType.BYTES17, 17 },
                { SchemaType.BYTES18, 18 },
                { SchemaType.BYTES19, 19 },
                { SchemaType.BYTES20, 20 },
                { SchemaType.BYTES21, 21 },
                { SchemaType.BYTES22, 22 },
                { SchemaType.BYTES23, 23 },
                { SchemaType.BYTES24, 24 },
                { SchemaType.BYTES25, 25 },
                { SchemaType.BYTES26, 26 },
                { SchemaType.BYTES27, 27 },
                { SchemaType.BYTES28, 28 },
                { SchemaType.BYTES29, 29 },
                { SchemaType.BYTES30, 30 },
                { SchemaType.BYTES31, 31 },
                { SchemaType.BYTES32, 32 },

                { SchemaType.BOOL, 1 },
                { SchemaType.ADDRESS, 20 }
            };


        public static readonly Dictionary<SchemaType, object> DynamicAbiTypeToDefaultValue = new()
        {
            { SchemaType.UINT8_ARRAY, new uint[] { } },
            { SchemaType.UINT16_ARRAY, new uint[] { } },
            { SchemaType.UINT24_ARRAY, new uint[] { } },
            { SchemaType.UINT32_ARRAY, new uint[] { } },
            { SchemaType.UINT40_ARRAY, new UInt64[] { } },
            { SchemaType.UINT48_ARRAY, new UInt64[] { } },
            { SchemaType.UINT56_ARRAY, new BigInteger[] { } },
            { SchemaType.UINT64_ARRAY, new BigInteger[] { } },
            { SchemaType.UINT72_ARRAY, new BigInteger[] { } },
            { SchemaType.UINT80_ARRAY, new BigInteger[] { } },
            { SchemaType.UINT88_ARRAY, new BigInteger[] { } },
            { SchemaType.UINT96_ARRAY, new BigInteger[] { } },
            { SchemaType.UINT104_ARRAY, new BigInteger[] { } },
            { SchemaType.UINT112_ARRAY, new BigInteger[] { } },
            { SchemaType.UINT120_ARRAY, new BigInteger[] { } },
            { SchemaType.UINT128_ARRAY, new BigInteger[] { } },
            { SchemaType.UINT136_ARRAY, new BigInteger[] { } },
            { SchemaType.UINT144_ARRAY, new BigInteger[] { } },
            { SchemaType.UINT152_ARRAY, new BigInteger[] { } },
            { SchemaType.UINT160_ARRAY, new BigInteger[] { } },
            { SchemaType.UINT168_ARRAY, new BigInteger[] { } },
            { SchemaType.UINT176_ARRAY, new BigInteger[] { } },
            { SchemaType.UINT184_ARRAY, new BigInteger[] { } },
            { SchemaType.UINT192_ARRAY, new BigInteger[] { } },
            { SchemaType.UINT200_ARRAY, new BigInteger[] { } },
            { SchemaType.UINT208_ARRAY, new BigInteger[] { } },
            { SchemaType.UINT216_ARRAY, new BigInteger[] { } },
            { SchemaType.UINT224_ARRAY, new BigInteger[] { } },
            { SchemaType.UINT232_ARRAY, new BigInteger[] { } },
            { SchemaType.UINT240_ARRAY, new BigInteger[] { } },
            { SchemaType.UINT248_ARRAY, new BigInteger[] { } },
            { SchemaType.UINT256_ARRAY, new BigInteger[] { } },

            { SchemaType.INT8_ARRAY, new int[] { } },
            { SchemaType.INT16_ARRAY, new int[] { } },
            { SchemaType.INT24_ARRAY, new int[] { } },
            { SchemaType.INT32_ARRAY, new int[] { } },
            { SchemaType.INT40_ARRAY, new Int64[] { } },
            { SchemaType.INT48_ARRAY, new Int64[] { } },
            { SchemaType.INT56_ARRAY, new BigInteger[] { } },
            { SchemaType.INT64_ARRAY, new BigInteger[] { } },
            { SchemaType.INT72_ARRAY, new BigInteger[] { } },
            { SchemaType.INT80_ARRAY, new BigInteger[] { } },
            { SchemaType.INT88_ARRAY, new BigInteger[] { } },
            { SchemaType.INT96_ARRAY, new BigInteger[] { } },
            { SchemaType.INT104_ARRAY, new BigInteger[] { } },
            { SchemaType.INT112_ARRAY, new BigInteger[] { } },
            { SchemaType.INT120_ARRAY, new BigInteger[] { } },
            { SchemaType.INT128_ARRAY, new BigInteger[] { } },
            { SchemaType.INT136_ARRAY, new BigInteger[] { } },
            { SchemaType.INT144_ARRAY, new BigInteger[] { } },
            { SchemaType.INT152_ARRAY, new BigInteger[] { } },
            { SchemaType.INT160_ARRAY, new BigInteger[] { } },
            { SchemaType.INT168_ARRAY, new BigInteger[] { } },
            { SchemaType.INT176_ARRAY, new BigInteger[] { } },
            { SchemaType.INT184_ARRAY, new BigInteger[] { } },
            { SchemaType.INT192_ARRAY, new BigInteger[] { } },
            { SchemaType.INT200_ARRAY, new BigInteger[] { } },
            { SchemaType.INT208_ARRAY, new BigInteger[] { } },
            { SchemaType.INT216_ARRAY, new BigInteger[] { } },
            { SchemaType.INT224_ARRAY, new BigInteger[] { } },
            { SchemaType.INT232_ARRAY, new BigInteger[] { } },
            { SchemaType.INT240_ARRAY, new BigInteger[] { } },
            { SchemaType.INT248_ARRAY, new BigInteger[] { } },
            { SchemaType.INT256_ARRAY, new BigInteger[] { } },

            { SchemaType.BYTES1_ARRAY, new string[] { } },

            { SchemaType.BYTES2_ARRAY, new string[] { } },
            { SchemaType.BYTES3_ARRAY, new string[] { } },
            { SchemaType.BYTES4_ARRAY, new string[] { } },
            { SchemaType.BYTES5_ARRAY, new string[] { } },
            { SchemaType.BYTES6_ARRAY, new string[] { } },
            { SchemaType.BYTES7_ARRAY, new string[] { } },
            { SchemaType.BYTES8_ARRAY, new string[] { } },
            { SchemaType.BYTES9_ARRAY, new string[] { } },
            { SchemaType.BYTES10_ARRAY, new string[] { } },
            { SchemaType.BYTES11_ARRAY, new string[] { } },
            { SchemaType.BYTES12_ARRAY, new string[] { } },
            { SchemaType.BYTES13_ARRAY, new string[] { } },
            { SchemaType.BYTES14_ARRAY, new string[] { } },
            { SchemaType.BYTES15_ARRAY, new string[] { } },
            { SchemaType.BYTES16_ARRAY, new string[] { } },
            { SchemaType.BYTES17_ARRAY, new string[] { } },
            { SchemaType.BYTES18_ARRAY, new string[] { } },
            { SchemaType.BYTES19_ARRAY, new string[] { } },
            { SchemaType.BYTES20_ARRAY, new string[] { } },
            { SchemaType.BYTES21_ARRAY, new string[] { } },
            { SchemaType.BYTES22_ARRAY, new string[] { } },
            { SchemaType.BYTES23_ARRAY, new string[] { } },
            { SchemaType.BYTES24_ARRAY, new string[] { } },
            { SchemaType.BYTES25_ARRAY, new string[] { } },
            { SchemaType.BYTES26_ARRAY, new string[] { } },
            { SchemaType.BYTES27_ARRAY, new string[] { } },
            { SchemaType.BYTES28_ARRAY, new string[] { } },
            { SchemaType.BYTES29_ARRAY, new string[] { } },
            { SchemaType.BYTES30_ARRAY, new string[] { } },
            { SchemaType.BYTES31_ARRAY, new string[] { } },
            { SchemaType.BYTES32_ARRAY, new string[] { } },

            { SchemaType.BOOL_ARRAY, new bool[] { } },
            { SchemaType.ADDRESS_ARRAY, new string[] { } },
            { SchemaType.BYTES, "0x" },
            { SchemaType.STRING, "" }
        };

        public static readonly Dictionary<SchemaType, object> StaticAbiTypeToDefaultValue = new()
        {
            { SchemaType.UINT8, (uint)0 },
            { SchemaType.UINT16, (uint)0 },
            { SchemaType.UINT24, (uint)0 },
            { SchemaType.UINT32, (uint)0 },
            { SchemaType.UINT40, (UInt64)0 },
            { SchemaType.UINT48, (UInt64)0 },
            { SchemaType.UINT56, BigInteger.Zero },
            { SchemaType.UINT64, BigInteger.Zero },
            { SchemaType.UINT72, BigInteger.Zero },
            { SchemaType.UINT80, BigInteger.Zero },
            { SchemaType.UINT88, BigInteger.Zero },
            { SchemaType.UINT96, BigInteger.Zero },
            { SchemaType.UINT104, BigInteger.Zero },
            { SchemaType.UINT112, BigInteger.Zero },
            { SchemaType.UINT120, BigInteger.Zero },
            { SchemaType.UINT128, BigInteger.Zero },
            { SchemaType.UINT136, BigInteger.Zero },
            { SchemaType.UINT144, BigInteger.Zero },
            { SchemaType.UINT152, BigInteger.Zero },
            { SchemaType.UINT160, BigInteger.Zero },
            { SchemaType.UINT168, BigInteger.Zero },
            { SchemaType.UINT176, BigInteger.Zero },
            { SchemaType.UINT184, BigInteger.Zero },
            { SchemaType.UINT192, BigInteger.Zero },
            { SchemaType.UINT200, BigInteger.Zero },
            { SchemaType.UINT208, BigInteger.Zero },
            { SchemaType.UINT216, BigInteger.Zero },
            { SchemaType.UINT224, BigInteger.Zero },
            { SchemaType.UINT232, BigInteger.Zero },
            { SchemaType.UINT240, BigInteger.Zero },
            { SchemaType.UINT248, BigInteger.Zero },
            { SchemaType.UINT256, BigInteger.Zero },

            { SchemaType.INT8, 0 },
            { SchemaType.INT16, 0 },
            { SchemaType.INT24, 0 },
            { SchemaType.INT32, 0 },
            { SchemaType.INT40, (Int64)0 },
            { SchemaType.INT48, (Int64)0 },
            { SchemaType.INT56, BigInteger.Zero },
            { SchemaType.INT64, BigInteger.Zero },
            { SchemaType.INT72, BigInteger.Zero },
            { SchemaType.INT80, BigInteger.Zero },
            { SchemaType.INT88, BigInteger.Zero },
            { SchemaType.INT96, BigInteger.Zero },
            { SchemaType.INT104, BigInteger.Zero },
            { SchemaType.INT112, BigInteger.Zero },
            { SchemaType.INT120, BigInteger.Zero },
            { SchemaType.INT128, BigInteger.Zero },
            { SchemaType.INT136, BigInteger.Zero },
            { SchemaType.INT144, BigInteger.Zero },
            { SchemaType.INT152, BigInteger.Zero },
            { SchemaType.INT160, BigInteger.Zero },
            { SchemaType.INT168, BigInteger.Zero },
            { SchemaType.INT176, BigInteger.Zero },
            { SchemaType.INT184, BigInteger.Zero },
            { SchemaType.INT192, BigInteger.Zero },
            { SchemaType.INT200, BigInteger.Zero },
            { SchemaType.INT208, BigInteger.Zero },
            { SchemaType.INT216, BigInteger.Zero },
            { SchemaType.INT224, BigInteger.Zero },
            { SchemaType.INT232, BigInteger.Zero },
            { SchemaType.INT240, BigInteger.Zero },
            { SchemaType.INT248, BigInteger.Zero },
            { SchemaType.INT256, BigInteger.Zero },

            { SchemaType.BYTES1, "0x00" },
            { SchemaType.BYTES2, "0x0000" },
            { SchemaType.BYTES3, "0x000000" },
            { SchemaType.BYTES4, "0x00000000" },
            { SchemaType.BYTES5, "0x0000000000" },
            { SchemaType.BYTES6, "0x000000000000" },
            { SchemaType.BYTES7, "0x00000000000000" },
            { SchemaType.BYTES8, "0x0000000000000000" },
            { SchemaType.BYTES9, "0x000000000000000000" },
            { SchemaType.BYTES10, "0x00000000000000000000" },
            { SchemaType.BYTES11, "0x0000000000000000000000" },
            { SchemaType.BYTES12, "0x000000000000000000000000" },
            { SchemaType.BYTES13, "0x00000000000000000000000000" },
            { SchemaType.BYTES14, "0x0000000000000000000000000000" },
            { SchemaType.BYTES15, "0x000000000000000000000000000000" },
            { SchemaType.BYTES16, "0x00000000000000000000000000000000" },
            { SchemaType.BYTES17, "0x0000000000000000000000000000000000" },
            { SchemaType.BYTES18, "0x000000000000000000000000000000000000" },
            { SchemaType.BYTES19, "0x00000000000000000000000000000000000000" },
            { SchemaType.BYTES20, "0x0000000000000000000000000000000000000000" },
            { SchemaType.BYTES21, "0x000000000000000000000000000000000000000000" },
            { SchemaType.BYTES22, "0x00000000000000000000000000000000000000000000" },
            { SchemaType.BYTES23, "0x0000000000000000000000000000000000000000000000" },
            { SchemaType.BYTES24, "0x000000000000000000000000000000000000000000000000" },
            { SchemaType.BYTES25, "0x00000000000000000000000000000000000000000000000000" },
            { SchemaType.BYTES26, "0x0000000000000000000000000000000000000000000000000000" },
            { SchemaType.BYTES27, "0x000000000000000000000000000000000000000000000000000000" },
            { SchemaType.BYTES28, "0x00000000000000000000000000000000000000000000000000000000" },
            { SchemaType.BYTES29, "0x0000000000000000000000000000000000000000000000000000000000" },
            { SchemaType.BYTES30, "0x000000000000000000000000000000000000000000000000000000000000" },
            { SchemaType.BYTES31, "0x00000000000000000000000000000000000000000000000000000000000000" },
            { SchemaType.BYTES32, "0x0000000000000000000000000000000000000000000000000000000000000000" },

            { SchemaType.BOOL, false },
            { SchemaType.ADDRESS, "0x0000000000000000000000000000000000000000" }
        };
    }
}
